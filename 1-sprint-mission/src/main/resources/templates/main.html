<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>전체 API 대시보드</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
    }

    .sidebar {
      width: 220px;
      background: #f4f4f4;
      padding: 20px;
      box-sizing: border-box;
      height: 100vh;
      overflow-y: auto;
    }

    .sidebar button {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border: none;
      background-color: #fff;
      border: 1px solid #ccc;
      cursor: pointer;
      text-align: left;
    }

    .content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      height: 100vh;
      box-sizing: border-box;
    }

    /* 결과 영역은 항상 상단에 고정 */
    #result {
      border: 1px solid #ccc;
      padding: 10px;
      min-height: 50px;
      margin-bottom: 10px;
      background: #f9f9f9;
    }

    /* 섹션 영역은 교체되는 내용 */
    #section {
      /* 추가 스타일 필요시 지정 */
    }

    .section {
      margin-bottom: 30px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
    }

    .section h3 {
      margin-bottom: 5px;
    }

    input, textarea, select {
      padding: 5px;
      margin: 5px 0;
      width: 100%;
      box-sizing: border-box;
    }

    button.action {
      margin-top: 5px;
    }

    pre {
      background: #eee;
      padding: 10px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
<div class="sidebar">
  <button onclick="showAuthSection()">인증 (Auth)</button>
  <button onclick="showUserSection()">사용자 관리 (User)</button>
  <button onclick="showChannelSection()">채널 관리 (Channel)</button>
  <button onclick="showMessageSection()">메시지 관리 (Message)</button>
  <button onclick="showBinarySection()">바이너리 파일 (Binary)</button>
</div>
<div class="content" id="content">
  <!-- 결과 영역은 항상 상단에 고정 -->
  <div id="result"></div>
  <!-- 섹션 내용 영역 -->
  <div id="section">
    <h2>API 대시보드</h2>
    <p>좌측 메뉴에서 기능 그룹을 선택하세요.</p>
  </div>
</div>

<script>
  const BASE_URL = 'http://localhost:8080';

  // 공통 함수: API 호출 후 결과를 result 영역에 출력
  function fetchAndShow(url, options) {
    fetch(url, options)
    .then(response => {
      // 응답이 비어있을 경우 처리
      if (response.status === 204) {
        return {message: 'No Content'};
      }
      return response.json();
    })
    .then(data => showResult(data))
    .catch(error => {
      showResult({error: error.message});
      console.error('Error:', error);
    });
  }

  // 결과 출력 함수: 고정된 #result 영역에 JSON 형식으로 출력
  function showResult(message) {
    document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(message, null, 2)
        + '</pre>';
  }

  /* ========== Auth 섹션 ========== */
  function showAuthSection() {
    document.getElementById('section').innerHTML = `
        <h2>인증 (Auth)</h2>
        <div class="section">
          <h3>로그인 (/auth/login, GET)</h3>
          <input type="text" id="authUsername" placeholder="사용자 이름">
          <input type="password" id="authPassword" placeholder="비밀번호">
          <button class="action" onclick="login()">로그인</button>
        </div>
      `;
  }

  function login() {
    const username = document.getElementById('authUsername').value;
    const password = document.getElementById('authPassword').value;

    fetchAndShow(`${BASE_URL}/auth/login`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({username, password})
    });
  }

  /* ========== User 섹션 ========== */
  function showUserSection() {
    document.getElementById('section').innerHTML = `
        <h2>사용자 관리 (User)</h2>
        <div class="section">
          <h3>사용자 생성 (/user, POST)</h3>
          <input type="text" id="userName" placeholder="이름">
          <input type="password" id="userPassword" placeholder="비밀번호">
          <input type="email" id="userEmail" placeholder="이메일">
          <button class="action" onclick="createUser()">생성</button>
        </div>
        <div class="section">
          <h3>사용자 조회</h3>
          <input type="text" id="readUserInfo" placeholder="이름 또는 UUID">
          <button class="action" onclick="readUserByName()">이름으로 조회</button>
          <button class="action" onclick="readUserById()">ID로 조회</button>
          <button class="action" onclick="readUserAll()">전체 조회</button>
        </div>
        <div class="section">
          <h3>사용자 수정</h3>
          <input type="text" id="updateUserIdentifier" placeholder="현재 이름 또는 UUID">
          <input type="text" id="updateUserNewName" placeholder="새 이름">
          <button class="action" onclick="updateUserName()">수정 (이름/ID에 따라)</button>
        </div>
        <div class="section">
          <h3>사용자 삭제1</h3>
          <input type="text" id="deleteUserIdentifier" placeholder="이름 또는 UUID">
          <input type="password" id="deleteUserPassword" placeholder="비밀번호">
          <button class="action" onclick="deleteUser1()">삭제 (이름/ID에 따라)</button>
        </div>
        <div class="section">
          <h3>사용자 삭제2</h3>
          <input type="text" id="deleteUserIdentifier" placeholder="이름 또는 UUID">
          <input type="password" id="deleteUserPassword" placeholder="비밀번호">
          <button class="action" onclick="deleteUser2()">삭제 (이름/ID에 따라)</button>
        </div>
        <div class="section">
          <h3>사용자 이미지 수정</h3>
          <input type="text" id="userImgIdentifier" placeholder="이름 또는 UUID">
          <textarea id="userImg" placeholder="이미지 데이터 (문자열)"></textarea>
          <button class="action" onclick="updateUserImg()">이미지 수정</button>
        </div>
        <div class="section">
          <h3>사용자 간 메시지 전송 (/user/send-message, POST)</h3>
          <input type="text" id="msgSender" placeholder="보내는 사람 (이름 또는 UUID)">
          <input type="text" id="msgReceiver" placeholder="받는 사람 (이름 또는 UUID)">
          <textarea id="msgContent" placeholder="메시지 내용"></textarea>
          <button class="action" onclick="sendMessageToUser()">전송</button>
        </div>
        <div class="section">
          <h3>사용자 상태 업데이트 (/user/isbool/{user}, PATCH)</h3>
          <input type="text" id="statusUser" placeholder="업데이트할 사용자 (이름 또는 UUID)">
          <button class="action" onclick="updateUserStatus()">상태 업데이트</button>
        </div>
      `;
  }

  function createUser() {
    const name = document.getElementById('userName').value;
    const password = document.getElementById('userPassword').value;
    const email = document.getElementById('userEmail').value;
    fetchAndShow(`${BASE_URL}/user`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({name, email, password})
    });
  }

  function readUserByName() {
    const userInfo = document.getElementById('readUserInfo').value;
    fetchAndShow(`${BASE_URL}/user/name/${encodeURIComponent(userInfo)}`);
  }

  function readUserById() {
    const userInfo = document.getElementById('readUserInfo').value;
    fetchAndShow(`${BASE_URL}/user/id/${encodeURIComponent(userInfo)}`);
  }

  function readUserAll() {
    fetchAndShow(`${BASE_URL}/user/all`);
  }

  function updateUserName() {
    const identifier = document.getElementById('updateUserIdentifier').value;
    const newName = document.getElementById('updateUserNewName').value;
    if (identifier.length > 20) {
      fetchAndShow(
          `${BASE_URL}/user/id/${encodeURIComponent(identifier)}?changeName=${encodeURIComponent(
              newName)}`, {
            method: 'PATCH'
          });
    } else {
      fetchAndShow(
          `${BASE_URL}/user/name/${encodeURIComponent(identifier)}?change=${encodeURIComponent(
              newName)}`, {
            method: 'PATCH'
          });
    }
  }

  function deleteUser1() {
    const identifier = document.getElementById('deleteUserIdentifier').value;
    const password = document.getElementById('deleteUserPassword').value;
    const options = {
      method: 'DELETE',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({password})  // 비밀번호를 객체로 감싸서 전송
    };

    fetchAndShow(`${BASE_URL}/user/name/${encodeURIComponent(identifier)}`, options);
  }

  function deleteUser2() {
    const identifier = document.getElementById('deleteUserIdentifier').value;
    const password = document.getElementById('deleteUserPassword').value;
    const options = {
      method: 'DELETE',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({password})
    };
    fetchAndShow(`${BASE_URL}/user/id/${encodeURIComponent(identifier)}`, options);
  }

  function updateUserImg() {
    const identifier = document.getElementById('userImgIdentifier').value;
    const img = document.getElementById('userImg').value;
    if (identifier.length > 20) {
      fetchAndShow(`${BASE_URL}/user/img-to-id/${encodeURIComponent(identifier)}`, {
        method: 'PATCH',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(img)
      });
    } else {
      fetchAndShow(`${BASE_URL}/user/img-to-name/${encodeURIComponent(identifier)}`, {
        method: 'PATCH',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(img)
      });
    }
  }

  function sendMessageToUser() {
    const sender = document.getElementById('msgSender').value;
    const receiver = document.getElementById('msgReceiver').value;
    const message = document.getElementById('msgContent').value;
    fetchAndShow(`${BASE_URL}/user/send-message`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({sender, receiver, message})
    });
  }

  function updateUserStatus() {
    const user = document.getElementById('statusUser').value;
    fetchAndShow(`${BASE_URL}/user/isbool/${encodeURIComponent(user)}`, {
      method: 'PATCH'
    });
  }

  /* ========== Channel 섹션 ========== */
  function showChannelSection() {
    document.getElementById('section').innerHTML = `
        <h2>채널 관리 (Channel)</h2>
        <div class="section">
          <h3>채널 생성</h3>
          <input type="text" id="channelName" placeholder="채널 이름">
          <button class="action" onclick="createChannel()">생성 (공개)</button>
          <button class="action" onclick="createPrivateChannel()">생성 (비공개)</button>
        </div>
        <div class="section">
          <h3>채널 조회</h3>
          <input type="text" id="readChannelParam" placeholder="채널 이름 또는 UUID">
          <button class="action" onclick="readChannelByName()">이름으로 조회</button>
          <button class="action" onclick="readChannelById()">ID로 조회</button>
          <button class="action" onclick="readChannelAll()">전체 조회</button>
        </div>
        <div class="section">
          <h3>채널 수정</h3>
          <input type="text" id="updateChannelId" placeholder="채널 ID (UUID)">
          <input type="text" id="updateChannelNewName" placeholder="새 채널 이름">
          <button class="action" onclick="updateChannelNameById()">수정 (ID 기반)</button>
          <br><br>
          <input type="text" id="updateChannelCurrentName" placeholder="현재 채널 이름">
          <input type="text" id="updateChannelNewName2" placeholder="새 채널 이름">
          <button class="action" onclick="updateChannelNameByNames()">수정 (이름 기반)</button>
        </div>
        <div class="section">
          <h3>채널 삭제</h3>
          <input type="text" id="deleteChannelParam" placeholder="채널 이름 또는 UUID">
          <button class="action" onclick="deleteChannel()">삭제 (이름/ID 기반)</button>
        </div>
        <div class="section">
          <h3>채널 내 사용자 삭제</h3>
          <input type="text" id="channelForUserDelete" placeholder="채널 이름">
          <input type="text" id="userToDelete" placeholder="삭제할 사용자 이름">
          <button class="action" onclick="deleteUserFromChannel()">삭제</button>
        </div>
        <div class="section">
          <h3>채널 추가 기능</h3>
          <input type="text" id="channelInUser" placeholder="채널 이름 (사용자용)">
          <button class="action" onclick="readChannelInUser()">조회 (사용자용)</button>
          <br><br>
          <input type="text" id="channelInMessage" placeholder="채널 이름 (메시지용)">
          <button class="action" onclick="readChannelInMessage()">조회 (메시지용)</button>
          <br><br>
          <input type="text" id="channelByUserId" placeholder="사용자 ID (UUID)">
          <button class="action" onclick="findChannelsByUserId()">조회 (ID 기반)</button>
          <br><br>
          <input type="text" id="channelByUserName" placeholder="사용자 이름">
          <button class="action" onclick="findChannelsByUserName()">조회 (이름 기반)</button>
          <br><br>
          <input type="text" id="addUserChannel" placeholder="채널 (이름 또는 UUID)">
          <input type="text" id="addUser" placeholder="사용자 (이름 또는 UUID)">
          <button class="action" onclick="addUserToChannel()">사용자 추가</button>
          <br><br>
          <input type="text" id="sendMsgChannel" placeholder="채널 (이름 또는 UUID)">
          <input type="text" id="sendMsgSender" placeholder="보내는 사람">
          <input type="text" id="sendMsgReceiver" placeholder="받는 사람">
          <input type="text" id="sendMsgContent" placeholder="메시지 내용">
          <button class="action" onclick="sendMessageInChannel()">메시지 전송</button>
        </div>
      `;
  }

  function createChannel() {
    const name = document.getElementById('channelName').value;
    fetchAndShow(`${BASE_URL}/channel?name=${encodeURIComponent(name)}`, {method: 'POST'});
  }

  function createPrivateChannel() {
    fetchAndShow(`${BASE_URL}/channel/private`, {method: 'POST'});
  }

  function readChannelByName() {
    const param = document.getElementById('readChannelParam').value;
    fetchAndShow(`${BASE_URL}/channel/name/${encodeURIComponent(param)}`);
  }

  function readChannelById() {
    const param = document.getElementById('readChannelParam').value;
    fetchAndShow(`${BASE_URL}/channel/id/${encodeURIComponent(param)}`);
  }

  function readChannelAll() {
    fetchAndShow(`${BASE_URL}/channel/all`);
  }

  function updateChannelNameById() {
    const id = document.getElementById('updateChannelId').value;
    const newName = document.getElementById('updateChannelNewName').value;
    fetchAndShow(`${BASE_URL}/channel/name/id`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({id, name: newName})
    });
  }

  function updateChannelNameByNames() {
    const currentName = document.getElementById('updateChannelCurrentName').value;
    const newName = document.getElementById('updateChannelNewName2').value;
    fetchAndShow(`${BASE_URL}/channel/name/username`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({name1: currentName, name2: newName})
    });
  }

  function deleteChannel() {
    const param = document.getElementById('deleteChannelParam').value;
    if (param.length > 20) {
      fetchAndShow(`${BASE_URL}/channel/id/${encodeURIComponent(param)}`,
          {method: 'DELETE'});
    } else {
      fetchAndShow(`${BASE_URL}/channel/name/${encodeURIComponent(param)}`,
          {method: 'DELETE'});
    }
  }

  function deleteUserFromChannel() {
    const channelName = document.getElementById('channelForUserDelete').value;
    const userName = document.getElementById('userToDelete').value;
    fetchAndShow(`${BASE_URL}/channel/user/name/${encodeURIComponent(channelName)}`, {
      method: 'DELETE',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(userName)
    });
  }

  function readChannelInUser() {
    const channelName = document.getElementById('channelInUser').value;
    // 응답이 text인 경우도 있으므로 그대로 출력
    fetch(`${BASE_URL}/channel/user/${encodeURIComponent(channelName)}`)
    .then(response => response.text())
    .then(data => showResult(data))
    .catch(error => {
      showResult({error: error.message});
      console.error('Error:', error);
    });
  }

  function readChannelInMessage() {
    const channelName = document.getElementById('channelInMessage').value;
    fetch(`${BASE_URL}/channel/message/${encodeURIComponent(channelName)}`)
    .then(response => response.text())
    .then(data => showResult(data))
    .catch(error => {
      showResult({error: error.message});
      console.error('Error:', error);
    });
  }

  function findChannelsByUserId() {
    const userId = document.getElementById('channelByUserId').value;
    fetchAndShow(`${BASE_URL}/channel/username/channel/${encodeURIComponent(userId)}`);
  }

  function findChannelsByUserName() {
    const userName = document.getElementById('channelByUserName').value;
    fetchAndShow(`${BASE_URL}/channel/userid/channel/${encodeURIComponent(userName)}`);
  }

  function addUserToChannel() {
    const channel = document.getElementById('addUserChannel').value;
    const user = document.getElementById('addUser').value;
    fetchAndShow(`${BASE_URL}/channel/user`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({channel, user})
    });
  }

  function sendMessageInChannel() {
    const channel = document.getElementById('sendMsgChannel').value;
    const sender = document.getElementById('sendMsgSender').value;
    const receiver = document.getElementById('sendMsgReceiver').value;
    const message = document.getElementById('sendMsgContent').value;
    fetchAndShow(`${BASE_URL}/channel/message`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({channel, sender, receiver, message})
    });
  }

  /* ========== Message 섹션 ========== */
  function showMessageSection() {
    document.getElementById('section').innerHTML = `
        <h2>메시지 관리 (Message)</h2>
        <div class="section">
          <h3>일반 메시지 생성 (/message/normal, POST)</h3>
          <input type="text" id="msgNormalTitle" placeholder="제목">
          <input type="text" id="msgNormalBody" placeholder="내용">
          <button class="action" onclick="createNormalMessage()">생성</button>
        </div>
        <div class="section">
          <h3>바이너리 콘텐츠 메시지 생성 (/message/binaryContent, POST)</h3>
          <input type="text" id="msgBinTitle" placeholder="제목">
          <input type="text" id="msgBinBody" placeholder="내용">
          <textarea id="msgBinContents" placeholder="binaryContents (JSON 배열 형식)"></textarea>
          <button class="action" onclick="createMessageBinaryContent()">생성</button>
        </div>
        <div class="section">
          <h3>이미지 메시지 생성 (/message/img, POST)</h3>
          <input type="text" id="msgImgTitle" placeholder="제목">
          <input type="text" id="msgImgBody" placeholder="내용">
          <textarea id="msgImgs" placeholder="이미지 데이터 (쉼표 구분 문자열)"></textarea>
          <button class="action" onclick="createImageMessage()">생성</button>
        </div>
        <div class="section">
          <h3>메시지 조회</h3>
          <input type="text" id="readMsgParam" placeholder="메시지 ID 또는 제목">
          <button class="action" onclick="readMessageById()">ID로 조회</button>
          <button class="action" onclick="readMessageByTitle()">제목으로 조회</button>
          <button class="action" onclick="readMessageAll()">전체 조회</button>
        </div>
        <div class="section">
          <h3>메시지 수정</h3>
          <input type="text" id="updateMsgId" placeholder="메시지 ID (UUID)">
          <input type="text" id="updateMsgNewTitle" placeholder="새 제목">
          <button class="action" onclick="updateMessageTitleById()">제목 수정 (ID 기반)</button>
          <br><br>
          <input type="text" id="updateMsgCurrentTitle" placeholder="현재 제목">
          <input type="text" id="updateMsgNewTitle2" placeholder="새 제목">
          <button class="action" onclick="updateMessageTitleByTitle()">제목 수정 (이름 기반)</button>
          <br><br>
          <input type="text" id="updateMsgBodyId" placeholder="메시지 ID (UUID)">
          <input type="text" id="updateMsgNewBody" placeholder="새 내용">
          <button class="action" onclick="updateMessageBodyById()">내용 수정 (ID 기반)</button>
          <br><br>
          <input type="text" id="updateMsgCurrentTitle2" placeholder="현재 제목">
          <input type="text" id="updateMsgNewBody2" placeholder="새 내용">
          <button class="action" onclick="updateMessageBodyByName()">내용 수정 (이름 기반)</button>
        </div>
        <div class="section">
          <h3>메시지 삭제</h3>
          <input type="text" id="deleteMsgParam" placeholder="메시지 ID 또는 제목">
          <button class="action" onclick="deleteMessage()">삭제 (ID/제목 기반)</button>
        </div>
      `;
  }

  function createNormalMessage() {
    const title = document.getElementById('msgNormalTitle').value;
    const body = document.getElementById('msgNormalBody').value;
    fetchAndShow(`${BASE_URL}/message/normal`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({name1: title, name2: body})
    });
  }

  function createMessageBinaryContent() {
    const title = document.getElementById('msgBinTitle').value;
    const body = document.getElementById('msgBinBody').value;
    let binaryContents;
    try {
      binaryContents = JSON.parse(document.getElementById('msgBinContents').value);
    } catch (e) {
      showResult({error: 'binaryContents는 JSON 배열 형식이어야 합니다.'});
      return;
    }
    fetchAndShow(`${BASE_URL}/message/binaryContent`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({title, body, binaryContents})
    });
  }

  function createImageMessage() {
    const title = document.getElementById('msgImgTitle').value;
    const body = document.getElementById('msgImgBody').value;
    const imgs = document.getElementById('msgImgs').value.split(',').map(s => s.trim());
    fetchAndShow(`${BASE_URL}/message/img`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({title, body, imgs})
    });
  }

  function readMessageById() {
    const param = document.getElementById('readMsgParam').value;
    fetchAndShow(`${BASE_URL}/message/id/${encodeURIComponent(param)}`);
  }

  function readMessageByTitle() {
    const param = document.getElementById('readMsgParam').value;
    fetchAndShow(`${BASE_URL}/message/title/${encodeURIComponent(param)}`);
  }

  function readMessageAll() {
    fetchAndShow(`${BASE_URL}/message/all`);
  }

  function updateMessageTitleById() {
    const id = document.getElementById('updateMsgId').value;
    const newTitle = document.getElementById('updateMsgNewTitle').value;
    fetchAndShow(`${BASE_URL}/message/title/id`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({id, name: newTitle})
    });
  }

  function updateMessageTitleByTitle() {
    const currentTitle = document.getElementById('updateMsgCurrentTitle').value;
    const newTitle = document.getElementById('updateMsgNewTitle2').value;
    fetchAndShow(`${BASE_URL}/message/title/title`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({name1: currentTitle, name2: newTitle})
    });
  }

  function updateMessageBodyById() {
    const id = document.getElementById('updateMsgBodyId').value;
    const newBody = document.getElementById('updateMsgNewBody').value;
    fetchAndShow(`${BASE_URL}/message/body/id`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({id, name: newBody})
    });
  }

  function updateMessageBodyByName() {
    const currentTitle = document.getElementById('updateMsgCurrentTitle2').value;
    const newBody = document.getElementById('updateMsgNewBody2').value;
    fetchAndShow(`${BASE_URL}/message/body/name`, {
      method: 'PATCH',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({name1: currentTitle, name2: newBody})
    });
  }

  function deleteMessage() {
    const param = document.getElementById('deleteMsgParam').value;
    const options = {
      method: 'DELETE',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify(param)
    };
    if (param.length > 20) {
      fetchAndShow(`${BASE_URL}/message/id`, options);
    } else {
      fetchAndShow(`${BASE_URL}/message/title`, options);
    }
  }

  /* ========== Binary 섹션 ========== */
  function showBinarySection() {
    document.getElementById('section').innerHTML = `
    <h2>바이너리 파일 업로드 (Binary)</h2>
    <div class="section">
      <h3>바이너리 파일 업로드 (/binary/upload, POST)</h3>
      <input type="file" id="binaryFileInput" multiple>
      <button class="action" onclick="uploadBinaryFiles()">업로드</button>
    </div>
  `;
  }

  function uploadBinaryFiles() {
    const files = document.getElementById('binaryFileInput').files;

    if (files.length === 0) {
      alert('파일을 선택해주세요.');
      return;
    }

    const formData = new FormData();

    // 파일을 FormData에 추가
    for (let i = 0; i < files.length; i++) {
      formData.append('files', files[i]);
    }

    // 파일 업로드 요청
    fetch(`${BASE_URL}/binary/upload`, {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      alert('파일 업로드 완료');
      console.log(data);
    })
    .catch(error => {
      alert('파일 업로드 실패');
      console.error(error);
    });
  }
</script>
</body>
</html>
