# 개발 일지

요구사항을 만족하면서 어떤 기능을 왜 사용했는지, 사용하지 않았는지 결정하는데 트레이드 오프에 대한 생각을 정리

## 유저 기능 개발 고민
### 생성자에 빌더 기능
자주 사용하는 롬복의 기능인 빌더를 사용할까 고민했다. 

빌더 패턴을 도입 시에 얻을 수 있는 장점으로는 생성자의 파라미터로 들어오는 매개변수의 가독성을 높일 수 있다.   
하지만, 롬복의 기능이 제공하는 기능이 없이 직접 구현하려다 보니, 개발 초기 도메인에 필요한 인스턴스 필드의 
변경 가능성이 높아 구현에 너무 오래걸리는 단점이 존재했다. 이에 아직 많은 필드를 초기화하지 않기에 빌더 패턴을 
사용하지 않기로 결정했다.

### User 객체에서 UserName 객체를 분리   

User 객체에서 String으로 유저의 이름을 저장하고 있었는데, 검증로직과 테스트 코드 작성 시 복잡함을 해소할 수 있어,
분리하게 되었다.


## Repository 추상화 
스프링부트 처럼 crud의 일정 부분의 구현은 모두 같을텐데, 이에 대해서 고민을 하게 되었다. 부트에서는 어떤 방식으로 레포지터리를 구현했는지 찾아본 후 구현

# 테스트 코드
## 테스트 코드에서 인터페이스 필드 초기화
- DI
- Factory Method
- Mock 객체 
## 테스트 케이스 작성 시 service에서 repository 의존성 문제
### UserService 테스트 코드 작성
테스트 코드 작성에 앞서 테스트 코드는 `FIRST` 원칙을 지켜야하는데, `UserService`에서 의존하는 `UserRepository` 객체의 구현체를 넣어줄 경우 원칙에서 어긋난다.  
이를 해결하는 방법으로 Mock 객체를 통해서 결합을 없애고 테스트 작성해야한다. 내가 아는 방법으로는 일단 Mock 객체를 이용해서 해결하면되는 것으로 아는데, 이참에 학습
을 통해서 적용해봐야겠다.

또 다른 방법이 있나? 
- 스모크 테스트
- mock 객체를 미리 만드는 방법 ?
# error
- error 상속받아 사용할 때, 매개변수로 들어가는 `Throwable` 넣어주었을 때 결과는 ?
- 그냥 다 illegalArgumentException, IllegalStatementException 으로 처리하고 싶은데... 
## enum - error message
- message 하드 코딩?
- 상수 값으로 해두고 사용 ?

# 정적 팩토리 
